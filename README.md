# JSON to CAD

This program doesn't work! It was an attempt to convert BackToCAD.json files generated by [SkyReal VR][skyreal-vr] to a neutral 3D CAD format. It is neither created nor endorsed by SkyReal.

## Requirements

### Development

- Java Development Kit, version 17 or later
- [JavaFX 21 SDK](https://gluonhq.com/products/javafx/)
- [JSDAI 4.5](https://sourceforge.net/projects/jsdai/files/v4.5.0/)

## Building

As stated above, this program doesn't work. If you're curious to see exactly what goes wrong, follow these instructions.

JSDAI isn't in Maven central, so it needs to be installed locally.

- Install the following files from the extracted JSDAI release by following the instructions in `doc/local-maven-dependencies.txt` "Install with install:install-file":
  - `jsdai/jsdai_runtime.jar`
- Install the `jsdai_parent` `pom.xml` by [downloading it from SourceForge][jsdai_parent-pom] and following the instructions in `doc/local-maven-dependencies.txt` "Installing only a POM file".
- Install `xim-library/out/module_mim.jar` extracted from [xim-library_v1_130_200_part1.zip][xim-part1.zip] by running the following command:
  ```
  mvn org.apache.maven.plugins:maven-install-plugin:3.1.1:install-file \
  -Dfile=</path/to/module_mim.jar> \
  -DgroupId=nonmaven.net.jsdai.xim.library \
  -DartifactId=module_mim \
  -Dversion=1.130.200 \
  -Dpackaging=jar \
  -DgeneratePom=true
  ```
  replacing `</path/to/module_mim.jar>` with the path to `module_mim.jar`.

After that, you should be able to successfully build by running `mvn install` from the commandline or using your IDE. See [Getting Started with JavaFX][openjfx-docs] if you have any issues.

### Running the minimal, reproducible example of failure

Running `mvn javafx:run` should fail with:

```
java.lang.reflect.InvocationTargetException
```
[...]
```
Caused by: jsdai.lang.SdaiException: SY_ERR - Underlying system error.
JSDAI versions in repository index file jar:file:/path/to/module_mim-1.130.200.jar!/jsdai/repository.properties and jsdai.lang do not match
```

[skyreal-vr]: https://sky-real.com/product/skyreal-vr/
[jsdai_parent-pom]: https://sourceforge.net/p/jsdai/core/ci/b1bfea6ac54c48ec1f61a1a052940c2c53ef5347/tree/parent/pom.xml
[xim-part1.zip]: https://jsdai.net/sites/jsdai.net/files/xim-library_v1_130_200_part1.zip
[openjfx-docs]: https://openjfx.io/openjfx-docs/
